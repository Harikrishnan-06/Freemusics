<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VibeStream | Neon Music</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --neon-green: #22c55e;
            --neon-purple: #bc13fe;
            --neon-cyan: #0ff;
        }
        body { background: #080808; color: #fff; font-family: 'Inter', sans-serif; overflow: hidden; }
        
        /* Spotify-style Layout Containers */
        .sidebar { background: #000; width: 280px; transition: 0.3s; }
        .main-view { background: linear-gradient(to bottom, #1a1a1a, #080808); flex: 1; overflow-y: auto; border-radius: 12px; margin: 8px 8px 8px 0; }
        .player-bar { height: 90px; background: #000; border-top: 1px solid #1a1a1a; }

        /* Neon Glass Cards */
        .neon-card { 
            background: rgba(255, 255, 255, 0.03); 
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        .neon-card:hover { 
            background: rgba(255, 255, 255, 0.07);
            border-color: var(--neon-green);
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.2);
            transform: translateY(-4px);
        }

        /* Neon Glow Text & Buttons */
        .text-neon { color: var(--neon-green); text-shadow: 0 0 10px rgba(34, 197, 94, 0.5); }
        .btn-play { background: var(--neon-green); color: black; box-shadow: 0 0 15px var(--neon-green); }
        .btn-play:hover { transform: scale(1.05); filter: brightness(1.1); }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #444; }

        .playing-now { border-color: var(--neon-cyan) !important; background: rgba(0, 255, 255, 0.05) !important; }
    </style>
</head>
<body class="flex flex-col h-screen">

    <div class="flex flex-1 overflow-hidden">
        <aside class="sidebar p-6 flex flex-col gap-6">
            <div class="flex items-center gap-2 mb-4">
                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center shadow-[0_0_10px_#22c55e]">
                    <i class="fa fa-bolt text-black text-xs"></i>
                </div>
                <h1 class="text-xl font-bold tracking-tighter">VIBE<span class="text-neon">STREAM</span></h1>
            </div>

            <nav class="space-y-1">
                <a href="#" class="flex items-center gap-4 py-2 text-gray-400 hover:text-white transition group">
                    <i class="fa fa-home text-lg group-hover:text-neon"></i> <span class="font-medium">Home</span>
                </a>
                <a href="#" onclick="document.getElementById('searchInput').focus()" class="flex items-center gap-4 py-2 text-gray-400 hover:text-white transition group">
                    <i class="fa fa-search text-lg group-hover:text-neon"></i> <span class="font-medium">Search</span>
                </a>
            </nav>

            <div class="mt-4 pt-6 border-t border-white/5 space-y-4">
                <p class="text-[11px] font-bold text-gray-500 uppercase tracking-widest px-2">Your Playlists</p>
                <button onclick="smartSearch('Tamil Lo-fi Chill')" class="flex items-center gap-3 w-full px-2 py-1 text-sm text-gray-400 hover:text-neon transition">
                    <div class="w-8 h-8 rounded bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center"><i class="fa fa-heart text-[10px]"></i></div>
                    Liked Songs
                </button>
                <button onclick="smartSearch('Night Drive Phonk')" class="flex items-center gap-3 w-full px-2 py-1 text-sm text-gray-400 hover:text-neon transition">
                    <div class="w-8 h-8 rounded bg-gradient-to-br from-green-600 to-cyan-600 flex items-center justify-center"><i class="fa fa-bolt text-[10px]"></i></div>
                    Neon Night Drive
                </button>
            </div>
        </aside>

        <main class="main-view flex flex-col relative">
            <header class="sticky top-0 z-10 p-6 flex justify-between items-center bg-[#1a1a1a]/80 backdrop-blur-md">
                <div class="relative w-96">
                    <i class="fa fa-search absolute left-4 top-3 text-gray-500"></i>
                    <input type="text" id="searchInput" 
                           onkeypress="if(event.key==='Enter') smartSearch(this.value + ' audio')"
                           placeholder="Search artists, songs, or genres..." 
                           class="w-full bg-zinc-800/50 border border-white/5 rounded-full py-2.5 px-12 focus:outline-none focus:border-green-500 transition-all text-sm">
                </div>
                <div class="flex items-center gap-4">
                    <button class="bg-white text-black text-xs font-bold px-4 py-2 rounded-full hover:scale-105 transition">Upgrade</button>
                    <div class="w-8 h-8 bg-zinc-800 rounded-full border border-white/10 flex items-center justify-center">
                        <i class="fa fa-user text-xs"></i>
                    </div>
                </div>
            </header>

            <section class="px-8 pt-2 pb-8">
                <div class="h-48 rounded-2xl bg-gradient-to-r from-green-900/40 to-black p-8 flex flex-col justify-end border border-white/5">
                    <p class="text-[10px] font-bold uppercase tracking-widest text-green-400 mb-1">Featured Playlist</p>
                    <h2 id="listTitle" class="text-5xl font-black tracking-tight mb-2">Neon Hits 2025</h2>
                    <p class="text-gray-400 text-sm">The cleanest audio tracks, curated for your vibe.</p>
                </div>

                <div id="results" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 mt-10 pb-32">
                    </div>
            </section>
        </main>
    </div>

    <footer class="player-bar px-4 flex items-center justify-between z-20">
        <div class="flex items-center w-[30%]">
            <img id="p-art" src="https://via.placeholder.com/56" class="w-14 h-14 rounded-md object-cover shadow-lg border border-white/5">
            <div class="ml-4 overflow-hidden">
                <div id="p-title" class="text-sm font-bold truncate">Nothing Playing</div>
                <div id="p-artist" class="text-xs text-zinc-500 truncate mt-0.5">Choose a track</div>
            </div>
            <button class="ml-5 text-zinc-500 hover:text-neon transition"><i class="fa fa-heart-circle-plus"></i></button>
        </div>

        <div class="flex flex-col items-center max-w-[40%] w-full">
            <div class="flex items-center gap-6 mb-2">
                <button class="text-zinc-500 hover:text-white transition text-xs"><i class="fa fa-shuffle"></i></button>
                <button onclick="changeTrack(-1)" class="text-zinc-400 hover:text-white text-lg transition"><i class="fa fa-backward-step"></i></button>
                <button onclick="togglePlay()" id="playBtn" class="w-9 h-9 btn-play rounded-full flex items-center justify-center transition">
                    <i class="fa fa-play text-xs ml-0.5"></i>
                </button>
                <button onclick="changeTrack(1)" class="text-zinc-400 hover:text-white text-lg transition"><i class="fa fa-forward-step"></i></button>
                <button class="text-zinc-500 hover:text-neon transition text-xs"><i class="fa fa-repeat"></i></button>
            </div>
            <div class="w-full flex items-center gap-2">
                <span id="time-c" class="text-[10px] text-zinc-500 font-mono w-8 text-right">0:00</span>
                <div class="flex-1 h-1 bg-white/10 rounded-full group cursor-pointer relative">
                    <div id="progress" class="h-full bg-green-500 rounded-full w-0 group-hover:bg-cyan-400 transition-all"></div>
                </div>
                <span id="time-t" class="text-[10px] text-zinc-500 font-mono w-8">0:00</span>
            </div>
        </div>

        <div class="flex items-center justify-end w-[30%] gap-3">
            <i class="fa fa-volume-high text-zinc-500 text-xs"></i>
            <input type="range" oninput="setVol(this.value)" min="0" max="100" value="100" class="w-24 h-1 accent-green-500 cursor-pointer">
            <button class="text-zinc-500 hover:text-white ml-2"><i class="fa fa-list-ul text-xs"></i></button>
        </div>
    </footer>

    <div id="player" class="hidden"></div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        const YT_API_KEY = 'AIzaSyDLL2PQGEiTJuWnFgm3IQO6TCSxSNHDshU'; 
        let player, isPlaying = false, queue = [], currentIndex = 0;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                events: {
                    'onStateChange': onPlayerStateChange,
                    'onReady': () => setInterval(syncProgress, 500)
                }
            });
        }

        async function smartSearch(query) {
            if (!query) return;
            const finalQuery = query.toLowerCase().includes('audio') ? query : query + ' official audio';
            document.getElementById('listTitle').innerText = query;
            
            try {
                const response = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q=${encodeURIComponent(finalQuery)}&type=video&key=${YT_API_KEY}`);
                const data = await response.json();
                
                if (data.items) {
                    queue = data.items.map(item => ({
                        id: item.id.videoId,
                        title: item.snippet.title.replace(/official audio|audio|lyrics/gi, ''),
                        artist: item.snippet.channelTitle,
                        thumb: item.snippet.thumbnails.high.url
                    }));
                    renderResults();
                }
            } catch (error) { console.error("Search Error:", error); }
        }

        function renderResults() {
            const container = document.getElementById('results');
            container.innerHTML = queue.map((song, index) => `
                <div id="song-${index}" onclick="playTrack(${index})" class="neon-card p-4 rounded-xl cursor-pointer">
                    <div class="relative mb-4 overflow-hidden rounded-lg shadow-2xl">
                        <img src="${song.thumb}" class="w-full aspect-square object-cover">
                        <div class="absolute inset-0 bg-black/60 opacity-0 hover:opacity-100 flex items-center justify-center transition-opacity duration-300">
                             <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-black shadow-[0_0_20px_#22c55e]">
                                <i class="fa fa-play ml-1"></i>
                             </div>
                        </div>
                    </div>
                    <h4 class="font-bold text-sm truncate mb-1">${song.title}</h4>
                    <p class="text-[11px] text-zinc-500 truncate">${song.artist}</p>
                </div>
            `).join('');
        }

        function playTrack(index) {
            if (!player || typeof player.loadVideoById !== 'function') return;
            document.querySelectorAll('.neon-card').forEach(el => el.classList.remove('playing-now'));
            
            currentIndex = index;
            const song = queue[index];
            player.loadVideoById(song.id);
            
            document.getElementById(`song-${index}`).classList.add('playing-now');
            document.getElementById('p-title').innerText = song.title;
            document.getElementById('p-artist').innerText = song.artist;
            document.getElementById('p-art').src = song.thumb;
            
            isPlaying = true;
            document.querySelector('#playBtn i').className = "fa fa-pause";
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.ENDED) changeTrack(1);
        }

        function changeTrack(direction) {
            let nextIndex = currentIndex + direction;
            if (nextIndex >= 0 && nextIndex < queue.length) playTrack(nextIndex);
        }

        function togglePlay() {
            if (!player) return;
            if (isPlaying) {
                player.pauseVideo();
                document.querySelector('#playBtn i').className = "fa fa-play ml-0.5";
            } else {
                player.playVideo();
                document.querySelector('#playBtn i').className = "fa fa-pause";
            }
            isPlaying = !isPlaying;
        }

        function syncProgress() {
            if (player && player.getCurrentTime) {
                const current = player.getCurrentTime();
                const total = player.getDuration();
                if (total > 0) {
                    document.getElementById('progress').style.width = (current / total * 100) + "%";
                    document.getElementById('time-c').innerText = formatTime(current);
                    document.getElementById('time-t').innerText = formatTime(total);
                }
            }
        }

        function formatTime(s) {
            return Math.floor(s / 60) + ":" + String(Math.floor(s % 60)).padStart(2, '0');
        }

        function setVol(val) {
            if (player) player.setVolume(val);
        }

        window.onload = () => {
            setTimeout(() => smartSearch('Top Tamil Hits 2025'), 1000);
        };
    </script>
</body>
</html>
